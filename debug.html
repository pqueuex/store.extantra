<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug - Extantra Net</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo-space">LOGO</div>
        </header>

        <div class="main-container">
            <aside class="sidebar">
                <div class="categories-section">
                    <div class="category">Home</div>
                    <div class="category" onclick="alert('About clicked!')">About</div>
                    <div class="category">Lighters</div>
                </div>
                <div class="cart-button" id="cart-button" onclick="alert('Cart clicked!')">
                    Cart
                    <div class="cart-count-badge" id="cart-badge">0</div>
                </div>
            </aside>

            <main class="product-grid" id="product-grid">
                <div class="debug-info">
                    <h3>Debug Information</h3>
                    <p>Products loaded: <span id="product-count">0</span></p>
                    <p>Cart items: <span id="debug-cart-count">0</span></p>
                    <p>Last action: <span id="last-action">Page loaded</span></p>
                    <button onclick="testAddToCart()">Test Add to Cart</button>
                    <button onclick="loadProductsDebug()">Reload Products</button>
                </div>
                <div id="products-container"></div>
            </main>
        </div>
    </div>

    <script>
        let cart = [];
        let cartCount = 0;
        let cartTotal = 0;
        let products = [];
        let sales = [];

        function updateDebugInfo(action) {
            document.getElementById('last-action').textContent = action;
            document.getElementById('product-count').textContent = products.length;
            document.getElementById('debug-cart-count').textContent = cart.length;
        }

        function testAddToCart() {
            cart.push({
                id: Date.now(),
                name: 'Test Product',
                price: 25.00
            });
            updateDebugInfo('Added test item to cart');
        }

        async function loadProductsDebug() {
            try {
                updateDebugInfo('Loading products...');
                const response = await fetch('products.json');
                const data = await response.json();
                products = data.products;
                sales = data.sales || [];
                
                updateDebugInfo(`Loaded ${products.length} products`);
                renderProductsDebug();
                
            } catch (error) {
                updateDebugInfo('Error loading products: ' + error.message);
            }
        }

        function renderProductsDebug() {
            const container = document.getElementById('products-container');
            container.innerHTML = '';
            
            products.forEach((product, index) => {
                const productDiv = document.createElement('div');
                productDiv.style.border = '1px solid #ccc';
                productDiv.style.padding = '10px';
                productDiv.style.margin = '10px';
                productDiv.innerHTML = `
                    <h4>${product.name}</h4>
                    <p>Price: $${product.originalPrice}</p>
                    <button onclick="addToCartDebug(${index})">Add to Cart</button>
                `;
                container.appendChild(productDiv);
            });
        }

        function addToCartDebug(productIndex) {
            const product = products[productIndex];
            if (!product) {
                updateDebugInfo('Error: Product not found');
                return;
            }
            
            cart.push({
                ...product,
                price: product.originalPrice,
                id: Date.now() + Math.random()
            });
            
            updateDebugInfo(`Added ${product.name} to cart`);
        }

        // Auto-load on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDebugInfo('DOM loaded');
            loadProductsDebug();
        });
    </script>
</body>
</html>
